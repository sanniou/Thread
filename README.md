# Thread - ä¸€ä¸ªå¤šå¹³å°ä¿¡æ¯æµèšåˆå™¨

`Thread` æ˜¯ä¸€ä¸ªä½¿ç”¨ Kotlin Multiplatform æŠ€æœ¯æ„å»ºçš„ä¿¡æ¯æµèšåˆå¹³å°ï¼Œæ—¨åœ¨å°†æ¥è‡ªä¸åŒæ¥æºï¼ˆå¦‚è®ºå›ã€RSSï¼‰çš„ä¿¡æ¯æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€ã€ç°ä»£ä¸”é«˜æ€§èƒ½çš„è·¨å¹³å°åº”ç”¨ä¸­ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½ (Core Features)

-   **å¤šæºèšåˆ**: æ”¯æŒä»å¤šä¸ªä¿¡æ¯æºï¼ˆå½“å‰å·²æ¥å…¥ NMBï¼Œè§„åˆ’ä¸­ï¼šNGA, Tieba, RSS, Mastodonï¼‰è·å–å†…å®¹ï¼Œå¹¶ä»¥ç»Ÿä¸€çš„æ—¶é—´çº¿å‘ˆç°ã€‚
-   **å¯æ‰©å±•æ¶æ„**: åŸºäºæ•´æ´æ¶æ„ï¼ˆClean Architectureï¼‰ï¼Œæ·»åŠ æ–°çš„ä¿¡æ¯æºæˆ–åŒæ­¥æ–¹å¼å˜å¾—ç®€å•é«˜æ•ˆã€‚
-   **æ•°æ®åŒæ­¥**: ï¼ˆè§„åˆ’ä¸­ï¼‰æ”¯æŒé€šè¿‡ WebDAV æˆ–æœ¬åœ°æ–‡ä»¶å¯¼å…¥/å¯¼å‡ºç”¨æˆ·æ•°æ®ã€‚
-   **è·¨å¹³å°**: ä¸€å¥—ä»£ç åº“ï¼Œå¯ç¼–è¯‘è¿è¡Œäº Android, iOS, Desktop (JVM) ç­‰å¤šä¸ªå¹³å°ã€‚

## ğŸ›ï¸ æ¶æ„ (Architecture)

é¡¹ç›®é‡‡ç”¨æ ‡å‡†çš„æ•´æ´æ¶æ„ï¼ˆClean Architectureï¼‰ï¼Œä»¥ç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§å’Œå¯æ‰©å±•æ€§ã€‚

-   **ä¾èµ–å€’ç½®åŸåˆ™**: ä¸Šå±‚æ¨¡å—ä¸ä¾èµ–äºä¸‹å±‚æ¨¡å—çš„å…·ä½“å®ç°ï¼Œè€Œæ˜¯ä¾èµ–äºæŠ½è±¡ã€‚`Presentation` -> `Domain` <- `Data`ã€‚
-   **åˆ†å±‚è®¾è®¡**:
    -   **`Presentation` (è¡¨ç¤ºå±‚)**: ç”± `composeApp` å’Œ `feature-*` æ¨¡å—ç»„æˆï¼Œè´Ÿè´£ UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’ã€‚
    -   **`Domain` (é¢†åŸŸå±‚)**: ç”± `core-domain` æ¨¡å—å®ç°ã€‚å®šä¹‰äº†åº”ç”¨çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (`UseCase`) å’Œæ•°æ®æŠ½è±¡ (`Repository` æ¥å£)ï¼Œä¸ä¾èµ–ä»»ä½•å…·ä½“æ¡†æ¶ã€‚
    -   **`Data` (æ•°æ®å±‚)**: ç”± `core-data` æ¨¡å—å®ç°ã€‚è´Ÿè´£å®ç° `Domain` å±‚çš„æ¥å£ï¼Œå¤„ç†æ‰€æœ‰æ•°æ®çš„è·å–ã€å­˜å‚¨å’ŒåŒæ­¥ã€‚
-   **ä¾èµ–æ³¨å…¥**: ä½¿ç”¨ Kodein (DI) å®ç°å„å±‚ä¹‹é—´çš„è§£è€¦ã€‚

### æ•°æ®åº“çš„è§’è‰²ï¼šç¼“å­˜ä¸ç¦»çº¿æ”¯æŒ

åœ¨å½“å‰æ¶æ„ä¸­ï¼Œæ•°æ®åº“ï¼ˆå¦‚ SQLDelightï¼‰å¹¶éä¸€ä¸ªç‹¬ç«‹çš„å±‚ï¼Œè€Œæ˜¯ **`Data` å±‚çš„ä¸€ä¸ªå®ç°ç»†èŠ‚**ã€‚å…¶æ ¸å¿ƒèŒè´£æ˜¯ä½œä¸ºè¿œç¨‹æ•°æ®çš„ **æœ¬åœ°ç¼“å­˜**ï¼Œä»¥æä¾›ç¦»çº¿èƒ½åŠ›å’Œæå‡æ€§èƒ½ã€‚

-   **`Repository` æ¨¡å¼**: `FeedRepositoryImpl` ä½œä¸ºæ•°æ®æµçš„â€œæ€»æŒ‡æŒ¥å®˜â€ï¼Œå½“è¢«è¯·æ±‚æ•°æ®æ—¶ï¼Œå®ƒä¼šä¼˜å…ˆæŸ¥è¯¢æœ¬åœ°æ•°æ®åº“ã€‚
-   **ç¼“å­˜ç­–ç•¥**: åªæœ‰å½“æœ¬åœ°æ•°æ®ä¸å­˜åœ¨æˆ–è¿‡æœŸæ—¶ï¼Œ`Repository` æ‰ä¼šå‘è¿œç¨‹ `Source` (å¦‚ `NmbSource`) å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚è·å–åˆ°æ–°æ•°æ®åï¼Œä¼šå…ˆæ›´æ–°æœ¬åœ°æ•°æ®åº“ï¼Œå†è¿”å›ç»™ä¸Šå±‚ã€‚
-   **å¯¹ä¸Šå±‚é€æ˜**: `Domain` å±‚å’Œ `Presentation` å±‚å®Œå…¨ä¸çŸ¥é“æ•°æ®åº“çš„å­˜åœ¨ã€‚å®ƒä»¬åªä¸ `Repository` æ¥å£äº¤äº’ï¼Œä»è€Œå®ç°äº†å¯¹æ•°æ®æŒä¹…åŒ–é€»è¾‘çš„å®Œå…¨è§£è€¦ã€‚

### æ•°æ®æµå‘ä¸ Domain å±‚çš„æ ¸å¿ƒä»·å€¼

æœ¬æ¶æ„ä¸¥æ ¼éµå¾ªå•å‘æ•°æ®æµå’Œä¾èµ–å€’ç½®åŸåˆ™ï¼Œç¡®ä¿å„å±‚èŒè´£å•ä¸€ä¸”é«˜åº¦è§£è€¦ã€‚

1.  **UI å±‚ä¸ç›´æ¥ä¸æ•°æ®å±‚é€šä¿¡**: `feature-*` æ¨¡å—ï¼ˆUIå±‚ï¼‰**ç»ä¸ä¼š**ç›´æ¥è°ƒç”¨ `Data` å±‚çš„ä»»ä½•å®ç°ï¼ˆå¦‚ `NmbSource`ï¼‰ã€‚
2.  **Domain å±‚æ˜¯å”¯ä¸€æ¡¥æ¢**: UI å±‚çš„æ‰€æœ‰æ•°æ®è¯·æ±‚éƒ½å¿…é¡»é€šè¿‡ `Domain` å±‚çš„ `UseCase` å‘èµ·ã€‚`UseCase` å°è£…äº†ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶è°ƒç”¨ `Repository` æ¥å£æ¥è·å–æ•°æ®ã€‚
3.  **å¥‘çº¦å¼ç¼–ç¨‹**: `Domain` å±‚å®šä¹‰äº†ç¨³å®šçš„æ•°æ®æ¨¡å‹å’Œæ¥å£ï¼ˆå¥‘çº¦ï¼‰ï¼ŒUI å±‚å’Œæ•°æ®å±‚éƒ½é¢å‘è¿™ä¸ªå¥‘çº¦ç¼–ç¨‹ã€‚è¿™ä½¿å¾—æ•°æ®å±‚çš„å…·ä½“å®ç°ï¼ˆAPIã€æ•°æ®åº“ï¼‰å¯ä»¥è¢«éšæ„æ›¿æ¢ï¼Œè€Œæ— éœ€ä¿®æ”¹ä»»ä½• UI å±‚ä»£ç ï¼Œä¿è¯äº†æ¶æ„çš„çµæ´»æ€§å’ŒéŸ§æ€§ã€‚

### UI æ¶æ„åˆ†å±‚

è¡¨ç¤ºå±‚ï¼ˆUIï¼‰å†…éƒ¨ä¹Ÿè¿›è¡Œäº†ç²¾ç»†çš„åˆ†å±‚ï¼Œä»¥ä¿è¯èŒè´£æ¸…æ™°ï¼š

-   **`composeApp` (åº”ç”¨å£³/å¯¼èˆªå±‚):** ä½œä¸ºåº”ç”¨çš„â€œå£³â€ï¼Œè´Ÿè´£ç»„è£…æ‰€æœ‰åŠŸèƒ½ã€‚å®ƒå®šä¹‰äº†ä¸»å¯¼èˆªæ¡†æ¶ï¼ˆå¦‚åº•éƒ¨å¯¼èˆªæ ï¼‰ï¼Œå¹¶ç®¡ç†å„ä¸ª `feature-*` æ¨¡å—çš„å…¥å£ã€‚
-   **`feature-feed` (èšåˆä¿¡æ¯æµæ¨¡å—):** æä¾›ç»Ÿä¸€çš„ã€è·¨æ‰€æœ‰æ¥æºçš„ä¿¡æ¯æµä¸»é¡µã€‚å½“ç”¨æˆ·ç‚¹å‡»å¸–å­æ—¶ï¼Œå®ƒä¼šæ ¹æ®æ¥æºå¯¼èˆªåˆ°ç›¸åº”çš„ `feature-xxx` æ¨¡å—è¿›è¡Œå±•ç¤ºã€‚
-   **`feature-*` (æºç‰¹å®šåŠŸèƒ½æ¨¡å—):** æä¾›ä¸ç‰¹å®šä¿¡æ¯æºï¼ˆå¦‚ NMB, NGAï¼‰ç›¸å…³çš„å®Œæ•´åŠŸèƒ½é—­ç¯ï¼ŒåŒ…æ‹¬å¸–å­è¯¦æƒ…ã€å›å¤ã€å‘å¸–ç­‰å…·æœ‰è¯¥æºç‰¹è‰²çš„ UI å’Œäº¤äº’ã€‚è™½ç„¶åŠŸèƒ½ä¸Šä¸ç‰¹å®šæºç»‘å®šï¼Œä½†å…¶æ•°æ®äº¤äº’ä¸¥æ ¼éµå®ˆä¸Šè¿°æ•°æ®æµå‘è§„åˆ™ï¼Œé€šè¿‡ `Domain` å±‚è¿›è¡Œã€‚
-   **`core-ui` (é€šç”¨ç»„ä»¶åº“):** æä¾›åœ¨æ‰€æœ‰æ¨¡å—é—´å…±äº«çš„ã€æ— çŠ¶æ€çš„ UI ç»„ä»¶ï¼Œç¡®ä¿åº”ç”¨è§†è§‰é£æ ¼ç»Ÿä¸€ã€‚

```mermaid
graph TD
    subgraph "è¡¨ç¤ºå±‚ (Presentation Layer)"
        direction LR
        A[app] --> B(åŠŸèƒ½æ¨¡å—, å¦‚ feed, settings)
        B --> C(core-ui)
    end

    subgraph "é¢†åŸŸå±‚ (Domain Layer)"
        direction LR
        D(UseCases / Interactors) --> E(æ ¸å¿ƒæ¨¡å‹ä¸æ¥å£, Repositories)
    end

    subgraph "æ•°æ®å±‚ (Data Layer)"
        direction TB
        F(Repository å®ç°) --> G(æ•°æ®æº DataSource)
        G --> G_NMB[NMB å®ç°]
        G --> G_NGA[NGA å®ç°]
        G --> G_RSS[RSS å®ç°]
        F --> H(åŒæ­¥æœåŠ¡ SyncProvider)
        H --> H_WebDAV[WebDAV å®ç°]
        H --> H_Local[æœ¬åœ°å¯¼å‡ºå®ç°]
    end

    A --> D
    D --> F
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

-   **[Kotlin Multiplatform](https://kotlinlang.org/docs/multiplatform-mobile-getting-started.html)**: è·¨å¹³å°å¼€å‘æ¡†æ¶ã€‚
-   **[Compose Multiplatform](https://www.jetbrains.com/lp/compose-multiplatform/)**: ç”¨äºæ„å»ºå£°æ˜å¼çš„ã€ç°ä»£åŒ–çš„ UIã€‚
-   **[Voyager](https://voyager.adriel.cafe/)**: ç”¨äº Compose Multiplatform çš„å¯¼èˆªåº“ã€‚
-   **[Kodein](https://kodein.org/di/)**: è½»é‡çº§çš„ä¾èµ–æ³¨å…¥æ¡†æ¶ã€‚
-   **[Ktorfit](https://foso.github.io/Ktorfit/)**: åŸºäº Ktor çš„ç±»å‹å®‰å…¨ HTTP å®¢æˆ·ç«¯ã€‚
-   **[SQLDelight](https://cashapp.github.io/sqldelight/)**: ç”Ÿæˆç±»å‹å®‰å…¨çš„ Kotlin API æ¥æ“ä½œ SQL æ•°æ®åº“ã€‚

## ğŸ“¦ æ¨¡å—åˆ’åˆ† (Module Structure)

-   **`composeApp`**: ä¸»åº”ç”¨æ¨¡å—ï¼ŒåŒ…å«å„å¹³å°å…¥å£å’Œå…±äº« UIã€‚
-   **`feature-*`**: å„ä¸ªç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼ˆå¦‚ `feature-nmb`ï¼‰ã€‚
-   **`core-domain`**: **é¢†åŸŸå±‚**ã€‚åŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œæ¥å£ã€‚
-   **`core-data`**: **æ•°æ®å±‚**ã€‚è´Ÿè´£æ‰€æœ‰æ•°æ®çš„è·å–ä¸å®ç°ã€‚
-   **`core-common`**: å¹³å°æ— å…³çš„é€šç”¨å·¥å…·ã€‚
-   **`core-ui`**: è·¨åŠŸèƒ½æ¨¡å—å…±äº«çš„é€šç”¨ UI ç»„ä»¶ã€‚

## ğŸ§© å¦‚ä½•æ·»åŠ æ–°æº (ä»¥ `Tieba` ä¸ºä¾‹)

æœ¬æ¶æ„ä½¿å¾—æ·»åŠ æ–°çš„ä¿¡æ¯æºå˜å¾—é«˜åº¦æ¨¡å¼åŒ–ã€‚ä»¥ä¸‹æ˜¯æ·»åŠ â€œè´´å§â€æºçš„å®Œæ•´æ­¥éª¤ï¼š

1.  **`core-data` æ¨¡å— (å®ç°æ•°æ®è·å–)**
    -   åœ¨ `source` åŒ…ä¸‹åˆ›å»º `tieba` ç›®å½•ã€‚
    -   **API**: åˆ›å»º `TiebaApi.kt` æ¥å£ï¼Œå®šä¹‰ Ktorfit ç½‘ç»œè¯·æ±‚ã€‚
    -   **DTO**: åœ¨ `remote/dto` ä¸­åˆ›å»º `TiebaDto.kt`ï¼Œå®šä¹‰åŒ¹é… API å“åº”çš„æ•°æ®ç±»ã€‚
    -   **Mapper**: åˆ›å»º `TiebaMapper.kt`ï¼Œç¼–å†™æ‰©å±•å‡½æ•°å°† `TiebaDto` è½¬æ¢ä¸º `Domain` å±‚çš„ `Post` æ¨¡å‹ã€‚
    -   **Source**: åˆ›å»º `TiebaSource.kt`ï¼Œå®ç° `domain` å±‚çš„ `Source` æ¥å£ï¼Œè°ƒç”¨ `TiebaApi` å¹¶ä½¿ç”¨ `Mapper` è½¬æ¢æ•°æ®ã€‚
    -   **DI**: åœ¨ `di/Di.kt` ä¸­ï¼Œå°† `TiebaApi` å’Œ `TiebaSource` æ³¨å…¥åˆ° Kodein å®¹å™¨ä¸­ã€‚

2.  **`core-domain` æ¨¡å— (å®šä¹‰ä¸šåŠ¡)**
    -   **é€šå¸¸æ— éœ€ä¿®æ”¹**ã€‚åªæœ‰å½“è´´å§è¯¦æƒ…é¡µéœ€è¦å±•ç¤ºâ€œæ¥¼ä¸­æ¥¼â€ç­‰ç‰¹æ®Šä¿¡æ¯æ—¶ï¼Œæ‰ **æ–°å¢** ä¸€ä¸ª `TiebaThreadDetails.kt` æ¨¡å‹å’Œ `GetTiebaThreadDetailsUseCase.kt`ã€‚

3.  **`feature-tieba` æ¨¡å— (å®ç°ç‰¹å®šUI)**
    -   **æ–°å»ºæ¨¡å—**: åˆ›å»ºä¸€ä¸ªåä¸º `feature-tieba` çš„æ–°æ¨¡å—ã€‚
    -   **Screen**: åˆ›å»º `TiebaThreadScreen.kt`ï¼Œç”¨äºå±•ç¤ºè´´å§å¸–å­çš„è¯¦æƒ…é¡µï¼ŒåŒ…æ‹¬å…¶ç‰¹æœ‰çš„â€œæ¥¼ä¸­æ¥¼â€UIã€‚
    -   **ViewModel**: åˆ›å»ºå¯¹åº”çš„ `TiebaThreadViewModel.kt`ï¼Œå®ƒä¼šé€šè¿‡ `Domain` å±‚çš„ `UseCase` è·å–æ•°æ®ã€‚

4.  **`composeApp` æ¨¡å— (é›†æˆåŠŸèƒ½)**
    -   åœ¨ `settings.gradle.kts` ä¸­ `include(":feature-tieba")`ã€‚
    -   åœ¨ä¸»å¯¼èˆªé€»è¾‘ä¸­ï¼Œå½“æ£€æµ‹åˆ°ç”¨æˆ·ç‚¹å‡»çš„ `Post` å…¶ `sourceName` ä¸º "Tieba" æ—¶ï¼Œå¯¼èˆªåˆ° `TiebaThreadScreen`ã€‚

é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä¸€ä¸ªåŠŸèƒ½å®Œå¤‡ã€UI ç‹¬ç‰¹ä¸”ä¸ä¸»åº”ç”¨è§£è€¦çš„æ–°ä¿¡æ¯æºå°±è¢«å®Œæ•´åœ°æ·»åŠ è¿›æ¥äº†ã€‚

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€ä¸æœªæ¥è§„åˆ’ (TODO)

å½“å‰é¡¹ç›®å·²å®Œæˆæ ¸å¿ƒçš„æ¶æ„é‡æ„ï¼Œä¸ºåç»­åŠŸèƒ½å¼€å‘å¥ å®šäº†åšå®åŸºç¡€ã€‚

-   [x] **1. æ¶æ„é‡æ„**: åˆ›å»º `domain` å’Œ `data` æ ¸å¿ƒæ¨¡å—ï¼Œæ˜ç¡®å„å±‚èŒè´£ã€‚
-   [x] **2. å®šä¹‰æ ¸å¿ƒæŠ½è±¡**: åœ¨ `domain` æ¨¡å—ä¸­å®šä¹‰ `Source`ã€`Repository` ç­‰æ ¸å¿ƒæ¥å£ã€‚
-   [x] **3. è¿ç§»ç°æœ‰å®ç°**: å°† `nmb` çš„æ•°æ®è·å–é€»è¾‘è¿ç§»åˆ° `data` æ¨¡å—ã€‚
-   [x] **4. å®ç°èšåˆä¿¡æ¯æµ**: åˆ›å»º `AggregatedFeedUseCase` å’Œ `FeedRepository` å®ç°ã€‚
-   [x] **5. éªŒè¯æ¶æ„æ‰©å±•æ€§**: ä»¥ `NgaSource` ä¸ºä¾‹ï¼Œè¯æ˜æ·»åŠ æ–°æºçš„å¯è¡Œæ€§ã€‚
-   [ ] **6. ä¿®å¤ç¼–è¯‘é”™è¯¯**: ä¿®å¤å› é‡æ„å¯¼è‡´çš„ `composeApp` å’Œ `feature-nmb` ä¸­çš„ç¼–è¯‘é—®é¢˜ã€‚
-   [ ] **7. å®ç°ç¼“å­˜é€»è¾‘**: åœ¨ `FeedRepositoryImpl` ä¸­é›†æˆ SQLDelightï¼Œå®ç°å®Œæ•´çš„ç¼“å­˜ç­–ç•¥ã€‚
-   [ ] **8. å®ç° `feature-feed`**: åˆ›å»ºèšåˆä¿¡æ¯æµçš„ UI é¡µé¢ï¼Œè°ƒç”¨ `GetAggregatedFeedUseCase` å±•ç¤ºæ•°æ®ã€‚
-   [ ] **9. å®Œå–„æºç‰¹å®šåŠŸèƒ½**: å®Œæ•´å®ç° `feature-nmb` çš„è¯¦æƒ…é¡µå’Œäº¤äº’é€»è¾‘ã€‚
-   [ ] **10. å®Œå–„åŒæ­¥åŠŸèƒ½**: å¯¹æ¥çœŸå®çš„ WebDAV æœåŠ¡å’Œæœ¬åœ°æ–‡ä»¶è¯»å†™é€»è¾‘ã€‚

## ğŸš€ å¦‚ä½•æ„å»ºä¸è¿è¡Œ (Build & Run)

1.  **ç¯å¢ƒè¦æ±‚**:
    -   Android Studio (æœ€æ–°ç‰ˆæœ¬)
    -   JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬
    -   (macOS) Xcode ç”¨äºè¿è¡Œ iOS åº”ç”¨

2.  **æ„å»º**:
    åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
    ```bash
    ./gradlew build
    ```

3.  **è¿è¡Œ**:
    -   **Android**: åœ¨ Android Studio ä¸­é€‰æ‹© `composeApp` ä½œä¸ºè¿è¡Œé…ç½®ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæ¨¡æ‹Ÿå™¨æˆ–è¿æ¥çš„è®¾å¤‡æ¥è¿è¡Œã€‚
    -   **Desktop**: æ‰§è¡Œ Gradle ä»»åŠ¡ `:composeApp:run`ã€‚
    -   **iOS**: åœ¨ Android Studio ä¸­é€‰æ‹© `iosApp` è¿è¡Œé…ç½®ï¼Œæˆ–ç›´æ¥åœ¨ Xcode ä¸­æ‰“å¼€ `iosApp` é¡¹ç›®æ¥è¿è¡Œã€‚


#  reference
https://github.com/TransparentLC/xdcmd/wiki/%E8%87%AA%E5%B7%B1%E6%95%B4%E7%90%86%E7%9A%84-X-%E5%B2%9B%E5%8C%BF%E5%90%8D%E7%89%88-API-%E6%96%87%E6%A1%A3

https://github.com/lumina37/aiotieba

https://github.com/HuanCheng65/TiebaLite

// nga api
// rss feed

https://m3.material.io/foundations/adaptive-design

https://developer.android.com/develop/ui/compose/layouts/adaptive/build-adaptive-navigation

// sample
https://github.com/kagg886/Pixiv-MultiPlatform
https://github.com/0xZhangKe/Fread
https://github.com/panpf/zoomimage/tree/main/sample/src/commonMain/kotlin/com/github/panpf/zoomimage/sample/ui/examples
https://github.com/TheChance101/beep-beep
